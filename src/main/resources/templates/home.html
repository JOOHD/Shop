<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>UNITED SHOP</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- ✅ Thymeleaf 경로 안전 -->
    <link rel="stylesheet" th:href="@{/css/home.css}">
    <link rel="stylesheet" th:href="@{/css/fragments/header.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>

<!-- HEADER + TOP BANNER -->
<div th:replace="~{fragments/header :: headerWithBanner}"></div>

<!-- overlay -->
<div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

<!-- sidebar -->
<aside class="sidebar" id="sidebar" aria-label="카테고리">
    <h3>카테고리</h3>
    <ul>
        <li><a href="/products">유니폼</a></li>
    </ul>
</aside>

<!-- search sidebar -->
<aside class="search-sidebar" id="searchSidebar" aria-label="검색">
    <div class="search-header">
        <button type="button" class="icon-btn" aria-label="검색 닫기" onclick="toggleSearchSidebar()">
            <i class="fas fa-times"></i>
        </button>
        <img class="logo-small" th:src="@{/logo/icons/white_icon.png}" alt="MUFC logo">
    </div>

    <div class="search-box">
        <form action="/items/search" method="get">
            <i class="fas fa-search"></i>
            <input type="text" name="keyword" placeholder="제품, 카테고리 또는 브랜드 검색">
        </form>
    </div>
</aside>

<!-- HERO -->
<section class="hero" aria-label="메인 프로모션">
    <div class="hero-content">
        <h1>adidas x Man Utd x The Stone Roses</h1>
        <p>I Wanna Be Adored!</p>
        <a href="/items?category=jersey">
            <button class="btn-shop" type="button">SHOP NOW</button>
        </a>
    </div>
</section>

<main class="main-content"></main>

<div th:replace="~{fragments/footer :: footer}"></div>

<!-- ✅ JS는 여기 한 군데만 -->
<script>
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('overlay');
      if (!sidebar || !overlay) return;
      sidebar.classList.toggle('active');
      overlay.classList.toggle('active');
    }

    function toggleSearchSidebar() {
      const searchSidebar = document.getElementById('searchSidebar');
      if (!searchSidebar) return;
      searchSidebar.classList.toggle('active');
    }
</script>

</body>
</html>
